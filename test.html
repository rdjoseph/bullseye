<html>
<head>

<script>

function reverseAnimation(){
//Get class name of div#two. 
var state = document.getElementById("two").className; 
var newState; 
if(state === "forward"){
newState = "back";
} else {
newState = "forward"; 
}
//getElementsByClassName returns a live HTMLCollection, so as I change the elements
//the list updates. Thus normal ititeration causes elements to be skipped
//So I'm treating it like a queue and pulling from the bottom till its empty 
var toChange = document.getElementsByClassName(state); 
while(toChange.length){
  toChange[0].className = newState; 
}

}

</script>

<link rel="stylesheet" href="pulse.css" title="forward"/>
</head>


<body>
<div id="one">
<div id="two" class="back">
<div id="three">
<div id="four" class="back">
<div id="five">
<div id="six" class="back">
<div id="seven">
<div id="eight" class="back">
<div id="nine">
<div id="ten" class="back">
</div>
</div>
</div>
</div>
</div>
</div>
</div> 
</div>
</div>
</div>
<button type="button" onclick="reverseAnimation()"> Click me! </button>



</body>
</html>
